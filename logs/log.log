[INFO  databases core:83 - connect() - 01.12.2022 02:53:45 PM]
	 Connected to database postgres://foton_user:********@localhost:5432/foton_db 

[INFO  apscheduler.scheduler base:444 - add_job() - 01.12.2022 02:53:45 PM]
	 Adding job tentatively -- it will be properly scheduled when the scheduler starts 

[INFO  apscheduler.scheduler base:885 - _real_add_job() - 01.12.2022 02:53:45 PM]
	 Added job "foton_request_task" to job store "default" 

[INFO  apscheduler.scheduler base:171 - start() - 01.12.2022 02:53:45 PM]
	 Scheduler started 

[DEBUG  apscheduler.scheduler base:944 - _process_jobs() - 01.12.2022 02:53:45 PM]
	 Looking for jobs to run 

[DEBUG  apscheduler.scheduler base:1023 - _process_jobs() - 01.12.2022 02:53:45 PM]
	 Next wakeup is due at 2022-12-01 14:58:45.510629+03:00 (in 300.000000 seconds) 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_part_begin with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_header_field with data[29:48] 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_header_value with data[50:76] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_header_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_headers_finished with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_part_data with data[80:84] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_part_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_part_begin with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_header_field with data[115:134] 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_header_value with data[136:162] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_header_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_headers_finished with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_part_data with data[166:170] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_part_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:08 PM]
	 Calling on_end with no data 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:08 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('user',) 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_part_begin with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_header_field with data[29:48] 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_header_value with data[50:76] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_header_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_headers_finished with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_part_data with data[80:85] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_part_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_part_begin with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_header_field with data[116:135] 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_header_value with data[137:163] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_header_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_headers_finished with no data 

[DEBUG  multipart.multipart multipart:601 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_part_data with data[167:172] 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_part_end with no data 

[DEBUG  multipart.multipart multipart:604 - callback() - 01.12.2022 02:54:15 PM]
	 Calling on_end with no data 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:15 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  passlib.handlers.bcrypt bcrypt:625 - _load_backend_mixin() - 01.12.2022 02:54:15 PM]
	 detected 'bcrypt' backend, version '4.0.1' 

[DEBUG  passlib.handlers.bcrypt bcrypt:406 - _finalize_backend_mixin() - 01.12.2022 02:54:15 PM]
	 'bcrypt' backend lacks $2$ support, enabling workaround 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:15 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:15 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:15 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:15 PM]
	 Query:                  SELECT c.id, c.controller_address, c.local_address, cd.status, chr.charge                 FROM controllers c                 LEFT JOIN                 (                  SELECT  controller_id,                  MAX(create_data_datetime) MaxDate                  FROM  controller_data                  GROUP BY controller_id                 ) MaxDates                 ON                 c.id = MaxDates.controller_id                 LEFT JOIN                 controller_data cd                 ON MaxDates.controller_id = cd.controller_id AND MaxDates.MaxDate = cd.create_data_datetime                 left JOIN LATERAL                 (                  select charge, controller_id, create_data_datetime from controller_data                  WHERE charge>0 and controller_id=c.id                  ORDER BY create_data_datetime desc limit 1                 ) chr on chr.controller_id=c.id              Args: () 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:15 PM]
	 Query: select count(id) from controllers Args: () 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:17 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:17 PM]
	 Query: SELECT vin, vout, temp, charge, relay, create_data_datetime                 FROM controller_data                 WHERE controller_id=1 and create_data_datetime >= '2022-12-01'                 AND create_data_datetime < '2022-12-02' AND status=true order by                 create_data_datetime  Args: () 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:19 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:19 PM]
	 Query: SELECT vin, vout, temp, charge, relay, create_data_datetime                 FROM controller_data                 WHERE controller_id=3 and create_data_datetime >= '2022-12-01'                 AND create_data_datetime < '2022-12-02' AND status=true order by                 create_data_datetime  Args: () 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query: INSERT INTO controllers (local_address, controller_address, login, password, create_date_time) VALUES ($3, $1, $4, $5, $2) RETURNING controllers.id Args: ('dsdsds', datetime.datetime(2022, 12, 1, 14, 54, 32, 948147), 'eew', 'dsdsds', 'dsdsdsdsd') 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query: select count(id) from controllers Args: () 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:32 PM]
	 Query:                  SELECT c.id, c.controller_address, c.local_address, cd.status, chr.charge                 FROM controllers c                 LEFT JOIN                 (                  SELECT  controller_id,                  MAX(create_data_datetime) MaxDate                  FROM  controller_data                  GROUP BY controller_id                 ) MaxDates                 ON                 c.id = MaxDates.controller_id                 LEFT JOIN                 controller_data cd                 ON MaxDates.controller_id = cd.controller_id AND MaxDates.MaxDate = cd.create_data_datetime                 left JOIN LATERAL                 (                  select charge, controller_id, create_data_datetime from controller_data                  WHERE charge>0 and controller_id=c.id                  ORDER BY create_data_datetime desc limit 1                 ) chr on chr.controller_id=c.id              Args: () 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:46 PM]
	 Query: SELECT users.id, users.username, users.password, users.is_super_user FROM users WHERE users.username = $1 Args: ('admin',) 

[DEBUG  databases postgres:266 - _compile() - 01.12.2022 02:54:46 PM]
	 Query: SELECT vin, vout, temp, charge, relay, create_data_datetime                 FROM controller_data                 WHERE controller_id=5 and create_data_datetime >= '2022-12-01'                 AND create_data_datetime < '2022-12-02' AND status=true order by                 create_data_datetime  Args: () 

[INFO  databases core:119 - disconnect() - 01.12.2022 02:55:46 PM]
	 Disconnected from database postgres://foton_user:********@localhost:5432/foton_db 

